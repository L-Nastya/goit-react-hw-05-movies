{"version":3,"file":"static/js/138.1f7b3dc2.chunk.js","mappings":"yQAoEA,UA7DqB,WACnB,OAA8BA,EAAAA,EAAAA,UAAS,CAAC,GAAxC,eAAOC,EAAP,KAAgBC,EAAhB,KAEMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACTC,GAAYC,EAAAA,EAAAA,MAAZD,QAGDE,EAAQJ,EAASK,MAAjBD,MAEPE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,8GAEOC,EAAAA,EAAAA,IAAkBN,GAFzB,OAERO,EAFQ,OAGdZ,EAAWY,GAHG,gDAMdC,QAAQC,IAAI,SANE,yDAAH,qDASfJ,GAED,GAAE,CAACL,IAEJ,IAAIU,EAAc,IACF,WACd,IAAQC,EAAWjB,EAAXiB,OACR,GAAIA,EAAJ,CACG,IAAMC,EAAYD,EAAOE,SAAQ,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,MAAM,EAAG,GAAGC,KAAK,MACxEP,EAAYQ,KAAKN,EAElB,MACF,CACDO,GAEA,IAEQC,EAAyD1B,EAAzD0B,eAAgBC,EAAyC3B,EAAzC2B,SAAUC,EAA+B5B,EAA/B4B,YAAaC,EAAkB7B,EAAlB6B,aACzCC,EAAUC,KAAKC,MAAqB,GAAfH,GACzB,OACE,4BACE,SAACI,EAAD,CAAYC,QANH,kBAAMhC,EAASM,EAAf,EAMT,UAA6B,SAAC,MAAD,OAC/B,UAAC2B,EAAD,YACE,SAACC,EAAD,CAAOC,IAAG,0CAAqCT,GAAeU,IAAKZ,KACnE,UAACa,EAAD,YACE,wBAAMb,KACN,yCAAiBI,EAAjB,SACA,uCACE,uBAAIH,KACJ,qCACD,uBAAKX,WAGR,SAACwB,EAAD,sCACA,UAACC,EAAD,YACE,yBAAI,SAAC,KAAD,CAAMhC,MAAO,CAACD,KAAAA,GAAOkC,GAAE,kBAAapC,EAAb,SAAvB,qBACJ,yBAAI,SAAC,KAAD,CAAMG,MAAO,CAACD,KAAAA,GAAOkC,GAAE,kBAAapC,EAAb,YAAvB,2BAEN,SAAC,KAAD,MAEN,EAGF,IAAM2B,EAAaU,EAAAA,GAAAA,OAAH,uNAYVR,EAAqBQ,EAAAA,GAAAA,IAAH,gEAIlBP,EAAQO,EAAAA,GAAAA,IAAH,+DAKLJ,EAAYI,EAAAA,GAAAA,IAAH,8CAITH,EAAgBG,EAAAA,GAAAA,EAAH,6CAGbF,EAAeE,EAAAA,GAAAA,GAAH,8C,sBClGH,SAASC,IACtB,OAAOC,MAAM,4FAA4FC,MAAK,SAAAC,GAC5G,OAAIA,EAASC,GACJD,EAASE,OAGXC,QAAQC,QAChB,GACF,CAEM,SAASC,EAAkBC,GAC7B,OAAOR,MAAM,4FAAD,OAA6FQ,IAAeP,MAAK,SAAAC,GAC9H,OAAIA,EAASC,GACJD,EAASE,OAGXC,QAAQC,QAChB,GACF,CAEM,SAASvC,EAAkBN,GAC7B,OAAOuC,MAAM,sCAAD,OAAuCvC,EAAvC,6DAA0GwC,MAAK,SAAAC,GAC5H,OAAIA,EAASC,GACJD,EAASE,OAGXC,QAAQC,QAChB,GACF,CAEM,SAASG,EAAehD,GAC1B,OAAOuC,MAAM,sCAAD,OAAuCvC,EAAvC,qEAAkHwC,MAAK,SAAAC,GACpI,OAAIA,EAASC,GACJD,EAASE,OAGXC,QAAQC,QAChB,GACF,CAEM,SAASI,EAAkBjD,GAC7B,OAAOuC,MAAM,sCAAD,OAAuCvC,EAAvC,qEAAkHwC,MAAK,SAAAC,GACpI,OAAIA,EAASC,GACJD,EAASE,OAGXC,QAAQC,QAChB,GACF,C","sources":["components/pages/MovieDetails/MovieDetails.jsx","services/api.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams, Link, Outlet, useNavigate, useLocation} from \"react-router-dom\";\nimport { fetchMovieDetails } from \"services/api\";\nimport styled from \"styled-components\";\nimport { BsArrowLeft } from 'react-icons/bs';\n\n\nconst MovieDetails = () => {\n  const [details, setDetails] = useState({});\n\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { movieId } = useParams();\n  \n\n  const {from} = location.state;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const result = await fetchMovieDetails(movieId);\n        setDetails(result);\n      }\n      catch (error){\n        console.log('error')\n      }\n    }\n    fetchData();\n    \n  }, [movieId])\n   \n  let genresArray = [];\n  const allGenres=()=> {\n    const { genres } = details;\n    if (genres) {\n       const allgenres = genres.flatMap(genre => genre.name).slice(0, 3).join(\", \");\n      genresArray.push(allgenres)\n      return;\n    }\n  }\n  allGenres()\n\n  const goBack = () => navigate(from);\n\n  const { original_title, overview, poster_path, vote_average  } = details;\n  const percent = Math.round(vote_average * 10);\n    return ( \n      <div>\n        <BackButton onClick={goBack}><BsArrowLeft/></BackButton>\n      <MovieInfoContainer>\n        <Image src={`https://image.tmdb.org/t/p/w500/${poster_path}`} alt={original_title}/>\n        <MovieInfo >\n          <h1 >{original_title}</h1>\n          <h2>User score: {percent}% </h2>\n          <h2>Overview </h2>\n            <p>{overview}</p>\n            <h2>Genres </h2>\n           <p >{genresArray}</p> \n        </MovieInfo>\n        </MovieInfoContainer>\n        <MoreInfoTitle>Additional information</MoreInfoTitle>\n        <MoreInfoList>\n          <li><Link state={{from}} to={`/movies/${movieId}/cast`}>Cast</Link></li>\n          <li><Link state={{from}} to={`/movies/${movieId}/reviews`}>Reviews</Link></li>\n          </MoreInfoList>\n        <Outlet/>\n      </div>\n)}\nexport default MovieDetails;\n\nconst BackButton = styled.button`\n  border: none;\n  margin-left: 8px;\n  margin-bottom: 10px;\n  color: black;\n  background-color:  transparent;\n  font-size: 20px;\n  cursor: pointer;\n  :hover{\n    color: #51bbe1;\n  }\n`;\nconst MovieInfoContainer = styled.div`\n  display: flex;\n  margin-left: 30px;\n`;\nconst Image = styled.img`\n  width: 20%;\n  margin-bottom: 10px;\n`;\n\nconst MovieInfo = styled.div`\n  margin-left: 20px;\n`;\n\nconst MoreInfoTitle = styled.p`\n margin-left: 30px;\n`\nconst MoreInfoList = styled.ul`\n   margin-left: 30px;\n`;","export default function fetchPopularMovies() {\n  return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=2c2119be3c72764fac5749d606e2540e`).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject();\n  });\n};\n\nexport function fetchSearchMovies(searchQuery) {\n     return fetch(`https://api.themoviedb.org/3/search/movie?api_key=2c2119be3c72764fac5749d606e2540e&query=${searchQuery}`).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject();\n  });\n};\n\nexport function fetchMovieDetails(movieId) {\n     return fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=2c2119be3c72764fac5749d606e2540e&language=en-US`).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject();\n  });\n};\n\nexport function fetchMovieCast(movieId) {\n     return fetch(`https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=2c2119be3c72764fac5749d606e2540e&language=en-US`).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject();\n  });\n};\n\nexport function fetchMovieReviews(movieId) {\n     return fetch(`https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=2c2119be3c72764fac5749d606e2540e&language=en-US`).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject();\n  });\n};"],"names":["useState","details","setDetails","navigate","useNavigate","location","useLocation","movieId","useParams","from","state","useEffect","fetchData","fetchMovieDetails","result","console","log","genresArray","genres","allgenres","flatMap","genre","name","slice","join","push","allGenres","original_title","overview","poster_path","vote_average","percent","Math","round","BackButton","onClick","MovieInfoContainer","Image","src","alt","MovieInfo","MoreInfoTitle","MoreInfoList","to","styled","fetchPopularMovies","fetch","then","response","ok","json","Promise","reject","fetchSearchMovies","searchQuery","fetchMovieCast","fetchMovieReviews"],"sourceRoot":""}